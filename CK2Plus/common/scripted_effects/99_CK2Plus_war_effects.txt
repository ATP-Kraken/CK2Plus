# FROM is attacker
# ROOT is defender

cb_attacking_tributary_effect = {
	ROOT = {
		if = {
			limit = {
				OR = {
					pays_tribute_to = FROM
					any_liege = { pays_tribute_to = FROM }
					has_opinion_modifier = {
						modifier = opinion_released_tributary
						who = FROM
					}
				}
			}

			FROM = {
				any_independent_ruler = {
					limit = { pays_tribute_to = FROM }

					suzerain = { remove_tributary = PREV }
					opinion = {
						modifier = attacked_tributary
						who = ROOT
						months = 240
					}
				}
				any_vassal = {
					limit = { higher_tier_than = BARON }

					opinion = {
						modifier = attacked_tributary_vassal
						who = ROOT
						months = 120
					}
				}
			}
		}
	}
}

# called on_new_holder
# ROOT is the new holder
# FROM is the title
# FROMFROM is the old holder
cb_nomad_culture_preservation_effect = {
	FROM = {
		if = {
			limit = {
				NOT = {
					ROOT = {
						religion = FROMFROM
						culture = FROMFROM
					}
				}
				FROMFROM = { is_nomadic = yes }
				tier = COUNT
			}

			location = {
				if = {
					limit = {
						OR = {
							has_capital = no
							capital_holding = { holding_type = NOMAD }
						}
					}

					build_holding = { type = tribal }
					culture = FROMFROM
					religion = FROMFROM

					random_province_holding = {
						limit = { holding_type = tribal }
						make_capital_holding = yes
					}
				}
			}
		}
	}
}