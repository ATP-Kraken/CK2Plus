law_groups = {
	status_of_women = {
		law_type = realm
	}
	#revoke_title_law = {
	#	law_type = realm
	#}
	#ze_administration_laws = {
	#	law_type = realm
	#}
}

laws = {
	status_of_women_0 = {
		group = status_of_women

		male_opinion = 4
		female_opinion = -8

		potential = {
			has_dlc = "Conclave"
			holy_order = no

			holder_scope = {
				NOR = {
					has_religion_feature = religion_matriarchal

					has_game_rule = {
						name = gender
						value = historical
					}

					has_game_rule = {
						name = gender
						value = all
					}

					has_game_rule = {
						name = gender
						value = plus
					}
				}
			}
		}

		allow = {
			trigger_if = {
				limit = {
					OR = {
						has_law = status_of_women_0
						has_law = status_of_women_1
						has_law = status_of_women_2
						has_law = status_of_women_3
						has_law = status_of_women_4
					}
				}
				has_law = status_of_women_1

				holder_scope = {
					show_scope_change = no

					NOT = { trait = uncrowned }

					trigger_if = {
						limit = { has_religion_feature = religion_equal }

						trigger_if = {
							limit = { real_tier = COUNT }
							prestige >= 500
						}
						trigger_else_if = {
							limit = { real_tier = DUKE }
							prestige >= 1000
						}
						trigger_else_if = {
							limit = { real_tier = KING }
							prestige >= 2000
						}
						trigger_else_if = {
							limit = { real_tier = EMPEROR }
							prestige >= 4000
						}
					}
				}
			}
			trigger_else = {
				always = yes
			}
		}

		pass_effect = {
			log = "status_of_women_0 pass ([This.GetFullBaseName])"
			if = {
				limit = {
					has_game_started = yes
					has_religion_feature = religion_equal

					# Don't charge the prestige if the law fell off
					OR = {
						has_law = status_of_women_0
						has_law = status_of_women_1
						has_law = status_of_women_2
						has_law = status_of_women_3
						has_law = status_of_women_4
					}
				}
				trigger_switch = {
					on_trigger = real_tier
					COUNT = { prestige = -500 }
					DUKE = { prestige = -1000 }
					KING = { prestige = -2000 }
					EMPEROR = { prestige = -4000 }
				}
			}
		}

		effect = {
			log = "status_of_women_0 ([This.GetFullBaseName])"
			trigger_switch = {
				on_trigger = has_law

				status_of_women_1 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_OFF }
				}
				status_of_women_2 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_OFF }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_OFF }
				}
				status_of_women_4 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_DISALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS }
					custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_OFF }
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = no

			hidden_tooltip = {
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
				law_set_allow_matrilineal_marriage = no
			}
		}

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0.3
				holder_scope = { is_female = no }
				has_law = status_of_women_1
			}
		}
	}

	status_of_women_1 = {
		group = status_of_women

		male_opinion = 2
		female_opinion = -4

		potential = {
			has_dlc = "Conclave"
			holy_order = no

			holder_scope = {
				NOR = {
					has_religion_feature = religion_matriarchal
					has_religion_feature = religion_patriarchal

					has_game_rule = {
						name = gender
						value = historical
					}

					has_game_rule = {
						name = gender
						value = all
					}

					has_game_rule = {
						name = gender
						value = plus
					}
				}
			}
		}

		allow = {
			OR = {
				has_law = status_of_women_0
				has_law = status_of_women_2
			}

			holder_scope = {
				show_scope_change = no

				NOT = { trait = uncrowned }

				trigger_if = {
					limit = { has_religion_feature = religion_equal }

					trigger_if = {
						limit = { real_tier = COUNT }
						prestige >= 375
					}
					trigger_else_if = {
						limit = { real_tier = DUKE }
						prestige >= 750
					}
					trigger_else_if = {
						limit = { real_tier = KING }
						prestige >= 1500
					}
					trigger_else_if = {
						limit = { real_tier = EMPEROR }
						prestige >= 3000
					}
				}
				trigger_else = {
					trigger_if = {
						limit = { real_tier = COUNT }
						prestige >= 125
					}
					trigger_else_if = {
						limit = { real_tier = DUKE }
						prestige >= 250
					}
					trigger_else_if = {
						limit = { real_tier = KING }
						prestige >= 500
					}
					trigger_else_if = {
						limit = { real_tier = EMPEROR }
						prestige >= 1000
					}
				}
			}
		}

		pass_effect = {
			log = "status_of_women_1 pass ([This.GetFullBaseName])"
			holder_scope = {
				if = {
					limit = { has_game_started = yes }

					if = {
						limit = { has_religion_feature = religion_equal }

						trigger_switch = {
							on_trigger = real_tier
							COUNT = { prestige = -375 }
							DUKE = { prestige = -750 }
							KING = { prestige = -1500 }
							EMPEROR = { prestige = -3000 }
						}
					}
					else = {
						trigger_switch = {
							on_trigger = real_tier
							COUNT = { prestige = -125 }
							DUKE = { prestige = -250 }
							KING = { prestige = -500 }
							EMPEROR = { prestige = -1000 }
						}
					}
				}
			}
		}

		effect = {
			log = "status_of_women_1 ([This.GetFullBaseName])"
			trigger_switch = {
				on_trigger = has_law

				status_of_women_0 = {
					custom_tooltip = { text = TOOLTIP_ALLOW_FEMALE_SPYMASTER }
					custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_ON }
				}
				status_of_women_2 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
				}
				status_of_women_3 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
				}
				status_of_women_4 = {
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_CHANCELLOR }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_TREASURER }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_MARSHAL }
					custom_tooltip = { text = TOOLTIP_DISALLOW_TRUE_COGNATIC }
					custom_tooltip = { text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS }
				}
			}

			set_allow_feminism = no
			set_allow_gender_laws = no

			hidden_tooltip = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
				law_set_allow_matrilineal_marriage = yes
			}
		}

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 0.3
				holder_scope = { is_female = yes }
				has_law = status_of_women_0
			}
			modifier = {
				factor = 0.3
				holder_scope = { is_female = no }
				has_law = status_of_women_2
			}
		}
	}

	status_of_women_2 = {
		group = status_of_women

		potential = {
			has_dlc = "Conclave"
			holy_order = no

			holder_scope = {
				NOR = {
					has_religion_feature = religion_matriarchal
					has_religion_feature = religion_patriarchal
				}

				has_game_rule = {
					name = gender
					value = historical
				}

				has_game_rule = {
					name = gender
					value = all
				}

				has_game_rule = {
					name = gender
					value = plus
				}
			}
		}

		allow = {
			OR = {
				has_law = status_of_women_1
				has_law = status_of_women_3
			}
			holder_scope = {
				show_scope_change = no
				conditional_tooltip = {
					trigger = {
						trait = uncrowned
					}
					NOT = {
						trait = uncrowned
					}
				}
				trigger_if = {
					limit = {
						has_game_started = yes
					}
					conditional_tooltip = {
						trigger = { tier = COUNT }
						prestige >= 250
					}
					conditional_tooltip = {
						trigger = { tier = DUKE }
						prestige >= 500
					}
					conditional_tooltip = {
						trigger = { tier = KING }
						prestige >= 1000
					}
					conditional_tooltip = {
						trigger = { tier = EMPEROR }
						prestige >= 2000
					}
				}
			}
		}

		pass_effect = {
			log = "status_of_women_2 pass ([This.GetFullBaseName])"
			if = {
				limit = {
					has_game_started = yes
				}
				holder_scope = {
					show_scope_change = no
					trigger_switch = {
						on_trigger = tier
						COUNT = { prestige = -250 }
						DUKE = { prestige = -500 }
						KING = { prestige = -1000 }
						EMPEROR = { prestige = -2000 }
					}
				}
			}
		}

		effect = {
			log = "status_of_women_2 ([This.GetFullBaseName])"
			custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_ON }
			if = {
				limit = {
					has_law = status_of_women_1
				}
				custom_tooltip = {
					text = TOOLTIP_ALLOW_FEMALE_CHANCELLOR
				}
				custom_tooltip = {
					text = TOOLTIP_ALLOW_FEMALE_TREASURER
				}
			}
			else_if = {
				limit = {
					has_law = status_of_women_3
				}
				custom_tooltip = {
					text = TOOLTIP_DISALLOW_FEMALE_MARSHAL
				}
			}
			hidden_tooltip = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_3
				revoke_law = status_of_women_4
				law_set_allow_matrilineal_marriage = yes

			}
		}

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0.3
				holder_scope = { is_female = yes }
				has_law = status_of_women_1
			}
			modifier = {
				factor = 0.3
				holder_scope = { is_female = no }
				has_law = status_of_women_3
			}
		}
	}

	status_of_women_3 = {
		group = status_of_women

		female_opinion = 2
		male_opinion = -4

		potential = {
			has_dlc = "Conclave"
			holy_order = no
			NOR = {
				holder_scope = {
					OR = {
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
					}
				}
				has_game_rule = {
					name = gender
					value = historical
				}
				has_game_rule = {
					name = gender
					value = all
				}
				has_game_rule = {
					name = gender
					value = plus
				}
			}
		}

		allow = {
			OR = {
				has_law = status_of_women_2
				has_law = status_of_women_4
			}
			holder_scope = {
				show_scope_change = no
				conditional_tooltip = {
					trigger = {
						trait = uncrowned
					}
					NOT = {
						trait = uncrowned
					}
				}
				trigger_if = {
					limit = {
						has_game_started = yes
					}
					trigger_if = {
						limit = {
#							OR = {
								has_religion_feature = religion_equal
#								has_religion_feature = religion_feature_bon
#							}
						}
						conditional_tooltip = {
							trigger = { tier = COUNT }
							prestige >= 125
						}
						conditional_tooltip = {
							trigger = { tier = DUKE }
							prestige >= 250
						}
						conditional_tooltip = {
							trigger = { tier = KING }
							prestige >= 500
						}
						conditional_tooltip = {
							trigger = { tier = EMPEROR }
							prestige >= 1000
						}
					}
					trigger_else = {
						conditional_tooltip = {
							trigger = { tier = COUNT }
							prestige >= 375
						}
						conditional_tooltip = {
							trigger = { tier = DUKE }
							prestige >= 750
						}
						conditional_tooltip = {
							trigger = { tier = KING }
							prestige >= 1500
						}
						conditional_tooltip = {
							trigger = { tier = EMPEROR }
							prestige >= 3000
						}
					}
				}
			}
		}

		pass_effect = {
			log = "status_of_women_3 pass ([This.GetFullBaseName])"
			holder_scope = {
				show_scope_change = no
				if = {
					limit = {
						has_game_started = yes
					}
					if = {
						limit = {
							OR = {
								has_religion_feature = religion_matriarchal
								has_religion_feature = religion_equal
#								has_religion_feature = religion_feature_bon
							}
						}
						trigger_switch = {
							on_trigger = tier
							COUNT = { prestige = -125 }
							DUKE = { prestige = -250 }
							KING = { prestige = -500 }
							EMPEROR = { prestige = -1000 }
						}
					}
					else = {
						trigger_switch = {
							on_trigger = tier
							COUNT = { prestige = -375 }
							DUKE = { prestige = -750 }
							KING = { prestige = -1500 }
							EMPEROR = { prestige = -3000 }
						}
					}
				}
			}
		}

		effect = {
			log = "status_of_women_3 ([This.GetFullBaseName])"
			custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_ON }
			if = {
				limit = {
					has_law = status_of_women_2
				}
				custom_tooltip = {
					text = TOOLTIP_ALLOW_FEMALE_MARSHAL
				}
			}
			else_if = {
				limit = {
					has_law = status_of_women_4
				}
				custom_tooltip = {
					text = TOOLTIP_DISALLOW_TRUE_COGNATIC
				}
				custom_tooltip = {
					text = TOOLTIP_DISALLOW_FEMALE_COMMANDERS
				}
			}
			hidden_tooltip = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_4
				law_set_allow_matrilineal_marriage = yes
			}
			set_allow_gender_laws = yes
		}

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0.3
				holder_scope = { is_female = yes }
				has_law = status_of_women_2
			}
			modifier = {
				factor = 0.3
				holder_scope = { NOT = { is_female = yes } }
				has_law = status_of_women_4
			}
		}
	}

	status_of_women_4 = {
		group = status_of_women

		female_opinion = 4
		male_opinion = -8

		potential = {
			has_dlc = "Conclave"
			holy_order = no
			NOR = {
				holder_scope = {
					OR = {
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
					}
				}
				has_game_rule = {
					name = gender
					value = historical
				}
				has_game_rule = {
					name = gender
					value = all
				}
				has_game_rule = {
					name = gender
					value = plus
				}
			}
		}

		allow = {
			has_law = status_of_women_3
			holder_scope = {
				show_scope_change = no
				conditional_tooltip = {
					trigger = {
						trait = uncrowned
					}
					NOT = {
						trait = uncrowned
					}
				}
				trigger_if = {
					limit = {
						has_game_started = yes
					}
					trigger_if = {
						limit = {
							NOT = {
								has_religion_feature = religion_equal
#								has_religion_feature = religion_feature_bon
							}
						}
						conditional_tooltip = {
							trigger = { tier = COUNT }
							prestige >= 500
						}
						conditional_tooltip = {
							trigger = { tier = DUKE }
							prestige >= 1000
						}
						conditional_tooltip = {
							trigger = { tier = KING }
							prestige >= 2000
						}
						conditional_tooltip = {
							trigger = { tier = EMPEROR }
							prestige >= 4000
						}
					}
				}
			}
		}

		pass_effect = {
			log = "status_of_women_4 pass ([This.GetFullBaseName])"
			holder_scope = {
				show_scope_change = no
				if = {
					limit = {
						has_game_started = yes
						NOT = {
							has_religion_feature = religion_equal
#							has_religion_feature = religion_feature_bon
						}
					}
					trigger_switch = {
						on_trigger = tier
						COUNT = { prestige = -500 }
						DUKE = { prestige = -1000 }
						KING = { prestige = -2000 }
						EMPEROR = { prestige = -4000 }
					}
				}
			}
		}

		effect = {
			log = "status_of_women_4 ([This.GetFullBaseName])"
			custom_tooltip = { text = ALLOW_MATRILINEAL_MARRIAGE_ON }
			if = {
				limit = {
					has_law = status_of_women_3
				}
				custom_tooltip = {
					text = TOOLTIP_ALLOW_TRUE_COGNATIC
				}
				custom_tooltip = {
					text = TOOLTIP_ALLOW_FEMALE_COMMANDERS
				}
			}
			hidden_tooltip = {
				revoke_law = status_of_women_0
				revoke_law = status_of_women_1
				revoke_law = status_of_women_2
				revoke_law = status_of_women_3
				law_set_allow_matrilineal_marriage = yes
			}
			set_allow_gender_laws = yes
			set_allow_feminism = yes
		}

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0.3
				holder_scope = { is_female = yes }
				has_law = status_of_women_3
			}
		}
	}
}